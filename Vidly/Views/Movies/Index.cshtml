@using Vidly.Models
@model IEnumerable<Movie>

@{
    ViewBag.Title = "Movies List";
}

<div class="row">
    <h2 class="col-sm-3">Movies List</h2>
    <div class="col-sm-2"></div>
    @Html.ActionLink(
        "Add Movie",
        "New",
        "Movies",
        null,
        new { @class = "btn btn-primary", id="new-btn"}
    )
</div>

@if (Model.Any() == false)
{
    <p>Sorry, There are no movies yet.</p>
}
else
{
    <table class="table table-striped">
        <tr>
            <th>
                Movie
            </th>
            <th>
                Genre
            </th>
        </tr>
        @foreach (var movie in @Model)
        {
            <tr>
                <td class="col-sm-3">
                    <p>
                        @Html.ActionLink(
                            @movie.Name,
                            "Edit",
                            "Movies",
                            new
                            {
                                id = @movie.Id
                            },
                            new
                            {
                                @class = "btn"
                            }
                        )
                    </p>
                </td>
                <td class="col-sm-3">
                    <p>
                        @movie.GenreLkp.Name
                    </p>
                </td>
            </tr>
        }
    </table>
}